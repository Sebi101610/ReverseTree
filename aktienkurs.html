<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>ReverseTreeâ„¢ Aktie</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin:0;
  font-family:Arial, sans-serif;
  background:#0f5132;
  color:white;
}

header, footer {
  background:#00796b;
  height:80px;
  display:flex;
  align-items:center;
  justify-content:center;
}

header img {
  position:absolute;
  left:20px;
  height:60px;
}

nav {
  display:flex;
  gap:20px;
}

nav a {
  color:white;
  text-decoration:none;
  font-weight:bold;
}

main {
  padding:120px 20px 60px;
  text-align:center;
}

.card {
  background:rgba(0,0,0,0.35);
  padding:30px;
  border-radius:20px;
  display:inline-block;
  max-width:420px;
  width:100%;
}

.price {
  font-size:3em;
  margin:20px 0;
}

canvas {
  margin-top:30px;
  background:white;
  border-radius:10px;
}
</style>
</head>

<body>

<header>
  <img src="2c01a8e0-525f-4beb-a283-7751eddd2869.png" alt="Logo">
  <nav>
    <a href="index.html">Start</a>
    <a href="baum-retten.html">Baum retten</a>
    <a href="team.html">Ãœber uns</a>
    <a href="kontakt.html">Kontakt</a>
  </nav>
</header>

<main>
  <div class="card">
    <h1>ðŸŒ³ ReverseTreeâ„¢ Aktie</h1>

    <div id="price" class="price">CHF 10.00</div>
    <p>Kurs aktualisiert alle 5 Stunden</p>

    <canvas id="chart" width="360" height="180"></canvas>
  </div>
</main>

<footer>
  Â© 2026 ReverseTreeâ„¢
</footer>

<script>
const FIVE_HOURS = 5 * 60 * 60 * 1000;

let price = parseFloat(localStorage.rt_price) || 10;
let history = JSON.parse(localStorage.rt_history || "[]");
let lastUpdate = parseInt(localStorage.rt_last) || 0;

function updatePrice() {
  const change = Math.random() * 2 - 1;
  price = Math.max(0.5, price + change);

  history.push(price);
  if (history.length > 20) history.shift();

  localStorage.rt_price = price;
  localStorage.rt_history = JSON.stringify(history);
  localStorage.rt_last = Date.now();
}

if (Date.now() - lastUpdate > FIVE_HOURS || history.length === 0) {
  updatePrice();
}

document.getElementById("price").innerText = "CHF " + price.toFixed(2);

// Zeichne Chart
const canvas = document.getElementById("chart");
const ctx = canvas.getContext("2d");

function drawChart() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  const max = Math.max(...history);
  const min = Math.min(...history);
  const pad = 20;

  ctx.beginPath();
  ctx.strokeStyle = "#2e7d32";
  ctx.lineWidth = 3;

  history.forEach((val, i) => {
    const x = pad + i * ((canvas.width - pad*2) / (history.length-1));
    const y = canvas.height - pad -
      ((val - min) / (max - min || 1)) * (canvas.height - pad*2);

    if (i === 0) ctx.moveTo(x,y);
    else ctx.lineTo(x,y);
  });

  ctx.stroke();
}

drawChart();
</script>

</body>
</html>
